CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

find_program(CMAKE_C_COMPLIER NAMES icc)
find_program(CMAKE_CXX_COMPILER NAMES icpc)

set(Boost_ROOT_DIR /home/xzhang11/Planet/Libs/boost)
set(Boost_INCLUDE_DIRS ${Boost_ROOT_DIR}/include)
set(Boost_LIBRARIES ${Boost_ROOT_DIR}/lib)
SET(CMAKE_INCLUDE_PATH ${CMAKE_INCLUDE_PATH} ${Boost_INCLUDE_DIRS})
SET(CMAKE_LIBRARY_PATH ${CMAKE_LIBRARY_PATH} ${Boost_LIBRARIES})

find_package(Boost 1.64.0 REQUIRED)
IF(Boost_FOUND)
  set(Boost_USE_STATIC_LIBS OFF) 
  set(Boost_USE_MULTITHREADED ON)  
  set(Boost_USE_STATIC_RUNTIME OFF) 
      
  INCLUDE_DIRECTORIES("${Boost_INCLUDE_DIRS}" "/home/xzhang11/bin/miniconda3/include")
  SET(Boost_USE_STATIC_LIBS OFF)
  SET(Boost_USE_MULTITHREADED ON)
  SET(Boost_USE_STATIC_RUNTIME OFF)
  find_package(Boost 1.64.0 COMPONENTS python3)
  ADD_LIBRARY(axiom SHARED src/hello_world.cpp)
  TARGET_LINK_LIBRARIES(axiom ${Boost_LIBRARIES})
  set_target_properties(axiom PROPERTIES PREFIX "" )
ELSEIF(NOT Boost_FOUND)
  MESSAGE(FATAL_ERROR "Unable to find correct Boost version. Did you set BOOST_ROOT?")
ENDIF()

IF(CMAKE_COMPILER_IS_GNUCXX)
  ADD_DEFINITIONS("-Wall")
ELSE()
    MESSAGE(FATAL_ERROR "CMakeLists.txt has not been tested/written for your compiler.")
ENDIF()
